{% extends 'base.html.twig' %}

{% block title %}
	{{ parent() }}
	|
	{{ "agenda.title"|trans }}
{% endblock %}

{% block body %}
	<div class="container container-agenda">

		{# Confirmation modal when deleting an event #}
		{% include 'shared/modal_confirmation.html.twig' with { 'id' : 'confirmation-modal', 'message' : "modal.event"|trans } %}

		<div class="heading-container">
			<h1>{{ "agenda.title"|trans }}</h1>
			{% if is_granted('ROLE_ADMIN') or is_granted('ROLE_COACH') %}
				<a href="{{ path('app_create_event') }}" class="btn-add"></a>
			{% endif %}
		</div>

		{# Flash messages #}
		{{ parent() }}

		<section class="agenda-container">
			<div class="pending-events">
				<h2><i class="fa-solid fa-clock-rotate-left"></i> {{ "agenda.waiting_reply"|trans }}</h2>
				{% if pendingEvents|length > 0 %}
					{% include 'shared/_card_event.html.twig' with { 'events': pendingEvents, 'isFutureEvent' : false, 'isAdmin' : false } %}
				{% else %}
					<p class="alert alert-warning">{{ 'agenda.no_event'|trans }}
				{% endif %}
			</div>

			<div class="future-events">
				<h2><i class="fa-regular fa-calendar"></i> {{ "agenda.next_events"|trans }}</h2>
				{% if futureEvents|length > 0 %}
					{% include 'shared/_card_event.html.twig' with { 'events': futureEvents, 'isFutureEvent' : true, 'isAdmin' : true } %}
					<div class="pagination">
						{{ knp_pagination_render(futureEvents) }}
					</div>
				{% else %}
					<p class="alert alert-warning">{{ "agenda.no_event"|trans }}</p>
				{% endif %}
			</div>
		</section>
	</div>

	{% block javascript %}
		{{ encore_entry_script_tags('modalConfirmation') }}
	{% endblock %}

{% endblock %}
